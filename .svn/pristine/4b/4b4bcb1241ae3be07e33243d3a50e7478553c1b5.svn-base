package com.hd.common.util;



import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.List;

public class DateHourDayMonthUtil {

	public static void main(String[] args) {
		DateHourDayMonthUtil get24Hours = new DateHourDayMonthUtil();
		Integer[] hours=get24Hours.getHour();
		
		for (int i = hours.length-1; i >=0; i--) {
			System.out.println(hours[i]);
			
		}
		
		String[] strs = getDay();
		for (int i = 0; i < strs.length; i++) {
			System.out.println(strs[i]);
		}
	
	}
	
	//得到当前小时前一天的所有小时
	public static Integer[] getHour(){
		Integer[] hours=new Integer[24];
		for (int i = 0; i < 24; i++) {
			Calendar calendar=Calendar.getInstance();
			 calendar.add(Calendar.HOUR_OF_DAY, -i);
			 hours[i]=calendar.get(Calendar.HOUR_OF_DAY);
			
		}
		return hours;
		
	}

	//获得当前日期前一个月的所有日期
	public static String[] getDay(){
		String[] str =null;
		List list = new ArrayList();
		Calendar beforemonth = Calendar.getInstance();
		 Calendar startCalendar = Calendar.getInstance();
		 Calendar endCalendar = Calendar.getInstance();
		 SimpleDateFormat df = new SimpleDateFormat("yyyy/M/d");
		 beforemonth.add(Calendar.MONTH, -1);
		 Date startDate = beforemonth.getTime();
		 startCalendar.setTime(startDate);
		 Date endDate = new Date();
		 endCalendar.setTime(endDate);
		 while(true){
		 startCalendar.add(Calendar.DAY_OF_MONTH, 1);
		 if(startCalendar.getTimeInMillis() <= endCalendar.getTimeInMillis()){//TODO 转数组或是集合，楼主看着写吧
	
			list.add(df.format(startCalendar.getTime()));
			 str= new String[list.size()];
			 for (int i=0;i<list.size();i++ )
			 {
			 str[i] =(String)list.get(i);
			 }
		 }else{
		 break;
		 }
		 }
		return str;
		
	}
	
	/*
	 * 获得当前月份前一年所有月份
	 * 
	 * */
	
	 public static  String[] getAllMonths() throws ParseException{
		 SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		 Calendar calendar = Calendar.getInstance();
		 calendar.add(Calendar.YEAR, -1);
		 
		 String start=sdf.format(calendar.getTime());
			String end=sdf.format(new Date());
		 
		 
		 DateFormat  aa = DateFormat.getDateInstance(); 
		 Date date1 = aa.parse(start); // 开始日期
		Date date2 = aa.parse(end); //结束日期
		Calendar  c1 = Calendar.getInstance();
		 Calendar  c2 = Calendar.getInstance();
		 List list = new ArrayList();
		
		 c1.setTime(date1); 
		 c2.setTime(date2); 
		 while (c1.compareTo(c2)<0)
		 {
		 c1.add(Calendar.MONTH,1);// 开始日期加一个月直到等于结束日期为止
		Date ss =c1.getTime();
		 String str =aa.format(ss);
		 str =str.substring(0,str.lastIndexOf("-"));
		list.add(str);
		 }
		 String[] str= new String[list.size()];
		 for (int i=0;i<list.size();i++ )
		 {
		 str[i] =(String)list.get(i);
		 }
		
		 return str;
		 
	 }
	
}
